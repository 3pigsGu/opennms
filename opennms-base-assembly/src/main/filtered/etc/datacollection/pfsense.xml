<?xml version="1.0" encoding="UTF-8" standalone="no"?><datacollection-group name="pfSense">

      <resourceType label="pfSense Interface" name="pfIfIfIndex" resourceLabel="${pfIfIfDescr}">
        <persistenceSelectorStrategy class="org.opennms.netmgt.collectd.PersistAllSelectorStrategy"/>
        <storageStrategy class="org.opennms.netmgt.dao.support.SiblingColumnStorageStrategy">
          <parameter key="sibling-column-name" value="pfIfIfDescr"/>
        </storageStrategy>
      </resourceType>

      <resourceType label="pfSense PF Table" name="pfTablesTblIndex" resourceLabel="${pftTblDescr}">
        <persistenceSelectorStrategy class="org.opennms.netmgt.collectd.PersistAllSelectorStrategy"/>
        <storageStrategy class="org.opennms.netmgt.dao.support.SiblingColumnStorageStrategy">
          <parameter key="sibling-column-name" value="pftTblDescr"/>
        </storageStrategy>
      </resourceType>

      <resourceType label="pfSense PF Label" name="pfLabelsLblIndex" resourceLabel="${pfLabelsLblName}">
        <persistenceSelectorStrategy class="org.opennms.netmgt.collectd.PersistAllSelectorStrategy"/>
        <storageStrategy class="org.opennms.netmgt.dao.support.SiblingColumnStorageStrategy">
          <parameter key="sibling-column-name" value="pfLabelsLblName"/>
        </storageStrategy>
      </resourceType>

    <resourceType label="Storage (FreeBSD, MIB-2 Host Resources)" name="hrStorageFBSD" resourceLabel="${hrStorageDescr}">
      <persistenceSelectorStrategy class="org.opennms.netmgt.collectd.PersistRegexSelectorStrategy">
        <parameter key="match-expression" value="not(#hrStorageDescr matches '^(MALLOC|UMA):.*')"/>
      </persistenceSelectorStrategy>
      <storageStrategy class="org.opennms.netmgt.dao.support.SiblingColumnStorageStrategy">
          <parameter key="sibling-column-name" value="hrStorageDescr"/>
          <parameter key="replace-first" value="s/^-$/_root_fs/"/>
          <parameter key="replace-all" value="s/^-//"/>
          <parameter key="replace-all" value="s/\s//"/>
          <parameter key="replace-all" value="s/:\\.*//"/>
      </storageStrategy>
    </resourceType>

      <!-- pfSense MIBs -->
      <group ifType="ignore" name="pfsense-system-scalars">
        <mibObj alias="pfCounterMatch" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.2.1" type="counter"/>
        <mibObj alias="pfCounterBadOffset" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.2.2" type="counter"/>
        <mibObj alias="pfCounterFragment" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.2.3" type="counter"/>
        <mibObj alias="pfCounterShort" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.2.4" type="counter"/>
        <mibObj alias="pfCounterNormalize" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.2.5" type="counter"/>
        <mibObj alias="pfCounterMemDrop" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.2.6" type="counter"/>
      </group>

      <group ifType="ignore" name="pfsense-statetable-scalars">
        <mibObj alias="pfStateTblCount" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.3.1" type="gauge"/>
        <mibObj alias="pfStateTblSearches" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.3.2" type="counter"/>
        <mibObj alias="pfStateTblInserts" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.3.3" type="counter"/>
        <mibObj alias="pfStateTblRemovals" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.3.4" type="counter"/>
      </group>

      <group ifType="ignore" name="pfsense-srcnode-scalars">
        <mibObj alias="pfSrcNodesCount" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.4.1" type="gauge"/>
        <mibObj alias="pfSrcNodesSearches" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.4.2" type="counter"/>
        <mibObj alias="pfSrcNodesInserts" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.4.3" type="counter"/>
        <mibObj alias="pfSrcNodesRemovals" instance="0" oid=".1.3.6.1.4.1.12325.1.200.1.4.4" type="counter"/>
      </group>

      <group ifType="all" name="pfsense-pfinterfaces">
        <mibObj alias="pfIfIfDescr" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.2" type="string"/>
        <mibObj alias="pfIfIfRefsState" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.5" type="gauge"/>
        <mibObj alias="pfIfIfRefsRule" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.6" type="gauge"/>
        <mibObj alias="pfIfIf4BytesInPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.7" type="counter"/>
        <mibObj alias="pfIfIf4BytesInBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.8" type="counter"/>
        <mibObj alias="pfIfIf4BytesOutPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.9" type="counter"/>
        <mibObj alias="pfIfIf4BytesOutBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.10" type="counter"/>
        <mibObj alias="pfIfIf4PktsInPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.11" type="counter"/>
        <mibObj alias="pfIfIf4PktsInBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.12" type="counter"/>
        <mibObj alias="pfIfIf4PktsOutPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.13" type="counter"/>
        <mibObj alias="pfIfIf4PktsOutBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.14" type="counter"/>
        <mibObj alias="pfIfIf6BytesInPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.15" type="counter"/>
        <mibObj alias="pfIfIf6BytesInBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.16" type="counter"/>
        <mibObj alias="pfIfIf6BytesOutPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.17" type="counter"/>
        <mibObj alias="pfIfIf6BytesOutBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.18" type="counter"/>
        <mibObj alias="pfIfIf6PktsInPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.19" type="counter"/>
        <mibObj alias="pfIfIf6PktsInBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.20" type="counter"/>
        <mibObj alias="pfIfIf6PktsOutPass" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.21" type="counter"/>
        <mibObj alias="pfIfIf6PktsOutBlk" instance="pfIfIfIndex" oid=".1.3.6.1.4.1.12325.1.200.1.8.2.1.22" type="counter"/>
      </group>

      <group ifType="all" name="pfsense-pftables">
        <mibObj alias="pftTblDescr" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.2" type="string"/>
        <mibObj alias="pftTblCount" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.3" type="gauge"/>
        <mibObj alias="pftTblRefsAnchor" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.5" type="gauge"/>
        <mibObj alias="pftTblRefsRule" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.6" type="gauge"/>
        <mibObj alias="pftTblEvalMatch" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.7" type="counter"/>
        <mibObj alias="pftTblEvalNoMatch" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.8" type="counter"/>
        <mibObj alias="pftTblBytesInPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.9" type="counter"/>
        <mibObj alias="pftTblBytesInBlock" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.10" type="counter"/>
        <mibObj alias="pftTblBytesInXPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.11" type="counter"/>
        <mibObj alias="pftTblBytesOutPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.12" type="counter"/>
        <mibObj alias="pftTblBytesOutBlock" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.13" type="counter"/>
        <mibObj alias="pftTblBytesOutXPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.14" type="counter"/>
        <mibObj alias="pftTblPktsInPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.15" type="counter"/>
        <mibObj alias="pftTblPktsInBlock" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.16" type="counter"/>
        <mibObj alias="pftTblPktsInXPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.17" type="counter"/>
        <mibObj alias="pftTblPktsOutPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.18" type="counter"/>
        <mibObj alias="pftTblPktsOutBlock" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.19" type="counter"/>
        <mibObj alias="pftTblPktsOutXPass" instance="pfTablesTblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.9.2.1.20" type="counter"/>
      </group>

      <group ifType="all" name="pfsense-labels">
        <mibObj alias="pfLabelsLblName" instance="pfLabelsLblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.11.2.1.2" type="string"/>
        <mibObj alias="pfLabelsLblEvals" instance="pfLabelsLblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.11.2.1.3" type="counter"/>
        <mibObj alias="pfLabelsLblBytesIn" instance="pfLabelsLblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.11.2.1.4" type="counter"/>
        <mibObj alias="pfLabelsLblBytesOut" instance="pfLabelsLblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.11.2.1.5" type="counter"/>
        <mibObj alias="pfLabelsLblPktsIn" instance="pfLabelsLblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.11.2.1.6" type="counter"/>
        <mibObj alias="pfLabelsLblPktsOut" instance="pfLabelsLblIndex" oid=".1.3.6.1.4.1.12325.1.200.1.11.2.1.7" type="counter"/>
      </group>

      <systemDef name="pfSense">
        <sysoidMask>.1.3.6.1.4.1.12325.1.1.</sysoidMask>
        <collect>
          <includeGroup>mib2-host-resources-system</includeGroup>
          <includeGroup>mib2-host-resources-memory</includeGroup>
          <!-- hrStorage is problematic on pfSense, over 200 instances on 2.0.1 -->
          <!-- <includeGroup>mib2-host-resources-storage</includeGroup> -->
          <includeGroup>mib2-X-interfaces</includeGroup>
          <includeGroup>mib2-X-interfaces-pkts</includeGroup>
          <includeGroup>pfsense-system-scalars</includeGroup>
          <includeGroup>pfsense-statetable-scalars</includeGroup>
          <includeGroup>pfsense-srcnode-scalars</includeGroup>
          <includeGroup>pfsense-pfinterfaces</includeGroup>
          <includeGroup>pfsense-pftables</includeGroup>
          <!-- Omitting labels since I have no way to test on my instance -->
          <!-- <includeGroup>pfsense-labels</includeGroup> -->
        </collect>
      </systemDef>
</datacollection-group>