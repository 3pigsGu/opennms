# Juniper Mobile Broadband Gateway reports

reports=mbg.acctserverstats, mbg.authserverstats, mbg.aaastats, \
mbg.apnstats, mbg.apnfstats, mbg.accerrs, mbg.cpu, mbg.memstats, \
mbg.gnrxmsgs, mbg.gntxmsgs, mbg.gnrxbytes, mbg.gntxbytes, mbg.deact, \
mbg.actsess, mbg.chrgssu, mbg.actsubs,mbg.actsesc, mbg.actbrs

# values available to prefab reports:
# {rrd1}, {rrd2}, {rrd3}, ...  must match the datasources exactly
# {startTime}, {endTime}
# any external values specified per report

# APN Reports Generated From MBG OIDs
report.mbg.apnstats.name=APN Attach Success
report.mbg.apnstats.columns=SuccSnsEst, SnEstAttempts
report.mbg.apnstats.type=jnxMbgPgwAPNName
report.mbg.apnstats.command=--title="APN Attach Success Rate" \
 --vertical-label="Attach Success Percentage" \
 DEF:succ={rrd1}:SuccSnsEst:AVERAGE \
 DEF:total={rrd2}:SnEstAttempts:AVERAGE \
 CDEF:ratio=succ,total,/,100,* \
 LINE2:ratio#00FF00 \
 GPRINT:ratio:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:ratio:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:ratio:MAX:"Max  \\: %8.2lf %s\\n" 

#APN Session Failure

report.mbg.apnfstats.name=APN Attach Failure 
report.mbg.apnfstats.columns=SnFailServcUnaval,SnFailSysFailure, SnFailNoResource, \
        SnFailNoAddr, SnFailServcDenied, SnFailAuthFail, SnFailAccessDenied, SnEstAttempts
report.mbg.apnfstats.type=jnxMbgPgwAPNName
report.mbg.apnfstats.command=--title="APN Attach Failure Rate" \
 --vertical-label="Attach Failure Percentage" \
 DEF:f1={rrd1}:SnFailServcUnaval:AVERAGE \
 DEF:f2={rrd2}:SnFailSysFailure:AVERAGE \
 DEF:f3={rrd3}:SnFailNoResource:AVERAGE \
 DEF:f4={rrd4}:SnFailNoAddr:AVERAGE \
 DEF:f5={rrd5}:SnFailServcDenied:AVERAGE \
 DEF:f6={rrd6}:SnFailAuthFail:AVERAGE \
 DEF:f7={rrd7}:SnFailAccessDenied:AVERAGE \
 DEF:attempts={rrd8}:SnEstAttempts:AVERAGE \
 CDEF:fsum=f1,f2,+,f3,+,f4,+,f5,+,f6,+,f7,+ \
 CDEF:percentage=fsum,attempts,/,100,* \
 LINE2:percentage#FF0000 \
 GPRINT:percentage:AVERAGE:"Avg \\: %8.2lf %s" \
 GPRINT:percentage:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:percentage:MAX:"Max  \\: %8.2lf %s\\n"


# AAA Auth Server response times

report.mbg.authserverstats.name=Auth Response Times
report.mbg.authserverstats.columns=RTTMax
report.mbg.authserverstats.type=jnxMbgRadiusAuthServerName
report.mbg.authserverstats.command=--title="Max Response Times " \
 --vertical-label="Response Time " \
 DEF:max={rrd1}:RTTMax:AVERAGE \
 LINE2:max#FF0000 \
 GPRINT:max:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:max:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:max:MAX:"Max  \\: %8.2lf %s\\n" 

# AAA Accounting Server response times

report.mbg.acctserverstats.name=Accounting Response Times
report.mbg.acctserverstats.columns=RTTMax
report.mbg.acctserverstats.type=jnxMbgRadiusAcctServerName
report.mbg.acctserverstats.command=--title="Max Response Times " \
 --vertical-label="Response Time" \
 DEF:max={rrd1}:RTTMax:AVERAGE \
 LINE2:max#FF0000 \
 GPRINT:max:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:max:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:max:MAX:"Max  \\: %8.2lf %s\\n" 

# AAA Reports Generated From MBG OIDs

report.mbg.aaastats.name=AuthFailures/TotalAuthRequests
report.mbg.aaastats.columns=AuthRejects, AuthRequests
report.mbg.aaastats.type=nodeSnmp
report.mbg.aaastats.command=--title="Auth Failures" \
 --vertical-label="Failure Percentage" \
 DEF:rejects={rrd1}:AuthRejects:AVERAGE \
 DEF:total={rrd2}:AuthRequests:AVERAGE \
 CDEF:percentage=rejects,total,/,100,* \
 LINE2:percentage#FF0000 \
 GPRINT:percentage:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:percentage:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:percentage:MAX:"Max  \\: %8.2lf %s\\n" 

# Accounting Error Reports Generated From MBG OIDs

report.mbg.accerrs.name=Accounting Errors
report.mbg.accerrs.columns=DynAuthErrors, DynAuthReceived
report.mbg.accerrs.type=nodeSnmp
report.mbg.accerrs.command=--title="Accounting Errors" \
 --vertical-label="Error percentage" \
 DEF:errors={rrd1}:DynAuthErrors:AVERAGE \
 DEF:tot={rrd2}:DynAuthReceived:AVERAGE \
 CDEF:percent=errors,tot,/,100,* \
 LINE2:percent#FF0000 \
 GPRINT:percent:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:percent:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:percent:MAX:"Max  \\: %8.2lf %s\\n"


#CPU Utilization Reports generated for MBG OIDS

report.mbg.cpu.name=CPU Utilization
report.mbg.cpu.columns=CPUUtilization
report.mbg.cpu.type=nodeSnmp
report.mbg.cpu.command=--title="CPU Utilization" \
 --vertical-label="CPU Utilization" \
 DEF:cpuutil={rrd1}:CPUUtilization:AVERAGE \
 LINE2:cpuutil#0000FF \
 GPRINT:cpuutil:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:cpuutil:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:cpuutil:MAX:"Max  \\: %8.2lf %s\\n"


# Memory Utilization Reports Generated From MBG OIDs

report.mbg.memstats.name=Memory Utilization
report.mbg.memstats.columns=MemoryUtilization
report.mbg.memstats.type=nodeSnmp
report.mbg.memstats.command=--title="Memory Utilization" \
 --vertical-label="Memory Utilization " \
 DEF:memutil={rrd1}:MemoryUtilization:AVERAGE \
 LINE2:memutil#0000FF \
 GPRINT:memutil:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:memutil:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:memutil:MAX:"Max  \\: %8.2lf %s\\n"


#Gn Aggregate Recieved Messages(MBG)

report.mbg.gnrxmsgs.name=Gn Received Messages
report.mbg.gnrxmsgs.columns=V0NumMsgRx,V1NumMsgRx,V2NumMsgRx
report.mbg.gnrxmsgs.type=nodeSnmp
report.mbg.gnrxmsgs.command=--title="Gn Received Messages" \
 --vertical-label="Messages Received " \
 DEF:rmsg1={rrd1}:V0NumMsgRx:AVERAGE \
 DEF:rmsg2={rrd2}:V1NumMsgRx:AVERAGE \
 DEF:rmsg3={rrd3}:V2NumMsgRx:AVERAGE \
 CDEF:rmsgs=rmsg1,rmsg2,+,rmsg3,+ \
 LINE2:rmsgs#000000 \
 GPRINT:rmsgs:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:rmsgs:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:rmsgs:MAX:"Max  \\: %8.2lf %s\\n"


#Gn Aggregate Transmitted Messages(MBG)

report.mbg.gntxmsgs.name=Gn Transmitted Messages
report.mbg.gntxmsgs.columns=V0NumMsgTx,V1NumMsgTx,V2NumMsgTx
report.mbg.gntxmsgs.type=nodeSnmp
report.mbg.gntxmsgs.command=--title="Gn Transmitted Messages" \
 --vertical-label="Messages Transmitted " \
 DEF:tmsg1={rrd1}:V0NumMsgTx:AVERAGE \
 DEF:tmsg2={rrd2}:V1NumMsgTx:AVERAGE \
 DEF:tmsg3={rrd3}:V2NumMsgTx:AVERAGE \
 CDEF:tmsgs=tmsg1,tmsg2,+,tmsg3,+ \
 LINE2:tmsgs#000000 \
 GPRINT:tmsgs:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:tmsgs:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:tmsgs:MAX:"Max  \\: %8.2lf %s\\n"


#Gn Aggregate Received Bytes(MBG)

report.mbg.gnrxbytes.name=Gn Received Bytes
report.mbg.gnrxbytes.columns=V0NumBytesRx,V1NumBytesRx,V2NumBytesRx
report.mbg.gnrxbytes.type=nodeSnmp
report.mbg.gnrxbytes.command=--title="Gn Received Bytes" \
 --vertical-label="Bytes Received" \
 DEF:rbyt1={rrd1}:V0NumBytesRx:AVERAGE \
 DEF:rbyt2={rrd2}:V1NumBytesRx:AVERAGE \
 DEF:rbyt3={rrd3}:V2NumBytesRx:AVERAGE \
 CDEF:rbytes=rbyt1,rbyt2,+,rbyt3,+ \
 LINE2:rbytes#FF00FF \
 GPRINT:rbytes:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:rbytes:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:rbytes:MAX:"Max  \\: %8.2lf %s\\n"


#Gn Aggregate Transmitted Bytes(MBG)

report.mbg.gntxbytes.name=Gn Transmitted Bytes
report.mbg.gntxbytes.columns=V0NumBytesTx,V1NumBytesTx,V2NumBytesTx
report.mbg.gntxbytes.type=nodeSnmp
report.mbg.gntxbytes.command=--title="Gn Transmitted Bytes" \
 --vertical-label="Bytes Transmitted" \
 DEF:tbyt1={rrd1}:V0NumBytesTx:AVERAGE \
 DEF:tbyt2={rrd2}:V1NumBytesTx:AVERAGE \
 DEF:tbyt3={rrd3}:V2NumBytesTx:AVERAGE \
 CDEF:tbytes=tbyt1,tbyt2,+,tbyt3,+ \
 LINE2:tbytes#FF00FF \
 GPRINT:tbytes:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:tbytes:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:tbytes:MAX:"Max  \\: %8.2lf %s\\n"

#Deactivations per APN(MBG)

report.mbg.deact.name=Deactivations per APN
report.mbg.deact.columns=SuccPeerSessnDeact, SuccGWSessnDeact, PeerSessnDeact, GWSessnDeact
report.mbg.deact.type=jnxMbgPgwAPNName
report.mbg.deact.command=--title="Session Deactivations" \
 --vertical-label="Deactivations" \
 DEF:d1={rrd1}:SuccPeerSessnDeact:AVERAGE \
 DEF:d2={rrd2}:SuccGWSessnDeact:AVERAGE \
 DEF:d3={rrd3}:PeerSessnDeact:AVERAGE \
 DEF:d4={rrd4}:GWSessnDeact:AVERAGE \
 CDEF:dsum1=d1,d2,+ \
 CDEF:dsum2=d3,d4,+ \
 CDEF:ratio=dsum1,dsum2,/ \
 LINE2:ratio#FF0000 \
 GPRINT:ratio:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:ratio:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:ratio:MAX:"Max  \\: %8.2lf %s\\n"

# Active Sessions Per APN(MBG)
report.mbg.actsess.name=Active Sessions Per APN
report.mbg.actsess.columns=SuccSnsEst
report.mbg.actsess.type=jnxMbgPgwAPNName
report.mbg.actsess.command=--title="Active Sessions Per APN" \
 --vertical-label="Active Sessions" \
 DEF:succ={rrd1}:SuccSnsEst:AVERAGE \
 LINE2:succ#00FF00 \
 GPRINT:succ:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:succ:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:succ:MAX:"Max  \\: %8.2lf %s\\n"

#Charging Server Space Util(MBG)

report.mbg.chrgssu.name=Charging Server Space util
report.mbg.chrgssu.columns=LcStorageAvailSpace
report.mbg.chrgssu.type=nodeSnmp
report.mbg.chrgssu.command=--title="Local Charging Server Space Util" \
 --vertical-label="Charging Server" \
 DEF:chrg={rrd1}:LcStorageAvailSpace:AVERAGE \
 LINE2:chrg#00FF00 \
 GPRINT:chrg:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:chrg:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:chrg:MAX:"Max  \\: %8.2lf %s\\n"

#Active Subscribers Per chassis(MBG)

report.mbg.actsubs.name=Active Subscribers
report.mbg.actsubs.columns=ActiveSubscribers
report.mbg.actsubs.type=nodeSnmp
report.mbg.actsubs.command=--title="Active Subscribers" \
 --vertical-label="Subscribers" \
 DEF:subs={rrd1}:ActiveSubscribers:AVERAGE \
 LINE2:subs#0000FF \
 GPRINT:subs:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:subs:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:subs:MAX:"Max  \\: %8.2lf %s\\n"

#Active Sessions Per chassis(MBG)

report.mbg.actsesc.name=Active Sessions
report.mbg.actsesc.columns=ActiveSessions
report.mbg.actsesc.type=nodeSnmp
report.mbg.actsesc.command=--title="Active Sessions" \
 --vertical-label="Active Sessions" \
 DEF:sess={rrd1}:ActiveSessions:AVERAGE \
 LINE2:sess#0000FF \
 GPRINT:sess:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:sess:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:sess:MAX:"Max  \\: %8.2lf %s\\n"

#Active Bearers Per chassis(MBG)

report.mbg.actbrs.name=Active Bearers
report.mbg.actbrs.columns=ActiveBearers
report.mbg.actbrs.type=nodeSnmp
report.mbg.actbrs.command=--title="Active Bearers" \
 --vertical-label="Active Bearers" \
 DEF:brs={rrd1}:ActiveBearers:AVERAGE \
 LINE2:brs#0000FF \
 GPRINT:brs:AVERAGE:"Avg  \\: %8.2lf %s" \
 GPRINT:brs:MIN:"Min  \\: %8.2lf %s" \
 GPRINT:brs:MAX:"Max  \\: %8.2lf %s\\n"
