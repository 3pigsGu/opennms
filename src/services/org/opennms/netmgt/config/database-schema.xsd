<?xml version="1.0"?>
<schema xmlns="http://www.w3.org/2001/XMLSchema"
	xmlns:this="http://xmlns.opennms.org/xsd/config/filter"
	targetNamespace="http://xmlns.opennms.org/xsd/config/filter">

	<element name="database-schema">
		<complexType>
			<sequence>
				<element ref="this:table" minOccurs="0" maxOccurs="unbounded"/>
			</sequence>
		</complexType>
	</element>

	<element name="table">
		<complexType>
			<sequence>
				<element ref="this:column" minOccurs="1" maxOccurs="unbounded"/>
				<element ref="this:join" minOccurs="0" maxOccurs="unbounded"/>
			</sequence>
			<attribute name="visable" use="optional" default="true">
				<simpleType>
					<restriction base="string">
						<pattern value="(true|false)"/>
					</restriction>
				</simpleType>
			</attribute>
			<attribute name="name" use="required" type="string"/>
			<attribute name="key" use="optional" default="secondary">
				<simpleType>
					<restriction base="string">
						<pattern value="(primary|secondary)"/>
					</restriction>
				</simpleType>
			</attribute>
		</complexType>
	</element>

	<element name="column">
		<complexType>
			<sequence>
				<element ref="this:alias" minOccurs="0" maxOccurs="unbounded"/>
				<element ref="this:constraint" minOccurs="0" maxOccurs="unbounded"/>
			</sequence>
			<attribute name="name" type="string" use="required"/>
			<attribute name="sql-type" type="string" use="optional"/>
			<attribute name="java-type" type="string" use="optional"/>
			<attribute name="visable" use="optional" default="true">
				<simpleType>
					<restriction base="string">
						<pattern value="(true|false)"/>
					</restriction>
				</simpleType>
			</attribute>
		</complexType>
	</element>

	<element name="alias">
		<complexType>
			<attribute name="name" type="string" use="required"/>
			<attribute name="value" type="string" use="required"/>
		</complexType>
	</element>

	<element name="constraint">
		<complexType>
			<attribute name="sql" type="string" use="required"/>
		</complexType>
	</element>

	<element name="join">
		<complexType>
			<attribute name="column" type="string" use="required"/>
			<attribute name="table" type="string" use="required"/>
			<attribute name="table-column" type="string" use="required"/>
		</complexType>
	</element>

</schema>

