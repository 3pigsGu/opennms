<?xml version="1.0" encoding="utf-8"?>
<chapter id="chap4" label="4.">
	<title>Supported Systems</title>
	<subtitle>Supported UNIX-like OSes</subtitle>
	<para>
		OpenNMS is written almost entirely in Java, and should be able to run on any
		system that suuports the Java 1.4 Virtual Machine. There are requirements for
		other programs such as PostgreSQL, Perl, RRDTool and Tomcat4, but the 1.4 JDK
		is the key requirement (as most of the other packages can be compiled from source).
	</para>
	<para>
		The following are the systems that support or are known to run OpenNMS.
	</para>
	<sect1 id="chap4sect1" label="4.1.">
		<title>Fully Supported</title>
		<para>
			The following Linux distributions are supported out-of-the-box with
			native installation packages.
		</para>
		<itemizedlist>
			<listitem>
				<formalpara>
					<title>Red Hat 7.x and Redhat 8.x</title>
					<para>
						With Postgres 7.2, there are new security measures
						that prevent the installation from accessing postgres.
						You can either tune them to allow both <emphasis>root</emphasis>
						and <emphasis>opennms</emphasis> to access the database,
						or you can simply disable this security.
					</para>
					<para>
                                        To do so, start postgresql with the command
                                        '<emphasis>service postgresql start</emphasis>'
                                        (to make sure that PostgreSQL's init has created
                                        your data directory), and then edit the file
                                        '<emphasis>/var/lib/pgsql/data/pg_hba.conf</emphasis>'
                                        and make sure it has the following lines:
<programlisting>
	local   all                                     trust
	host    all     127.0.0.1       255.255.255.255 trust
</programlisting>

                                        Then run '<emphasis>service postgresql restart</emphasis>'
                                        to restart with the new configuration.
                                </para>

					<para>
						On Red Hat 7.2 and up, it is suggested that you use the
						official Red Hat PostgreSQL RPMs that come with
						your distribution.  However, for OpenNMS to work
						correctly, you will need to make sure that tcp
						sockets are enabled.  It is also suggested that
						you increase the maximum number of connections
						and buffers.
					</para>
				</formalpara>
				<para>
					To do so, start postgresql with the command
					'<emphasis>service postgresql start</emphasis>'
					(to make sure that PostgreSQL's init has created
					your data directory), and then edit the file
					'<emphasis>/var/lib/pgsql/data/postgresql.conf</emphasis>'
					and make sure it has the following lines:
<programlisting>
		tcpip_socket = true
		max_connections = 256
		shared_buffers = 1024
</programlisting>

					Then run '<emphasis>service postgresql restart</emphasis>'
					to restart with the new configuration.
				</para>
				<para>
					If you do use the PostgreSQL RPMs provided with OpenNMS,
					you will need the <emphasis>readline41</emphasis>
					compatibility RPM installed, because our RPMs were built
					against Red Hat 7.0.  You can get it off your Red Hat 7.2 CD,
					or at <ulink url="ftp://ftp.redhat.com/pub/redhat/linux/7.2/en/os/i386/Red Hat/RPMS/readline41-4.1-10.i386.rpm">Red Hat's
					FTP site</ulink>.
				</para>
				<para>
					Note that if you use the "lynx installer", these options
					will automatically be added for you, and postgresql will
					be restarted.
				</para>
			</listitem>
			<listitem>
				<formalpara>
					<title>Mandrake 8.x and Mandrake 9.x</title>
					<para>
						Please note that while we build packages for Mandrake
						8.x, we do not do any formal testing on it.  Packages
						are provided as a convenience.
					</para>
				</formalpara>
			</listitem>
		</itemizedlist>
	</sect1>
	<sect1 id="chap4sect2" label="4.2.">
		<title>Unsupported</title>
		<para>
			The following UNIX systems are unsupported, but have been known to
			work.
		</para>
		<itemizedlist>
			<listitem>
				<formalpara>
					<title>Red Hat 6.2</title>
					<para>
						No special cases known.
					</para>
				</formalpara>
			</listitem>
			<listitem>
				<formalpara>
					<title>Solaris 7, Solaris 8 and Solaris 9</title>
					<para>
						There have been reports of OpenNMS building and
						running on Solaris on the discuss list.
					</para>
				</formalpara>
			</listitem>
			<listitem>
				<formalpara>
					<title>Debian Woody</title>
					<para>
						Debian packages should be available on ftp.opennms.org and 
						will soon be supported via the installer. It is hoped that
						OpenNMS will be included in Debian Sid.
					</para>
				</formalpara>
			</listitem>
                        <listitem>
                                <formalpara>
                                        <title>SuSE 8.1</title>
                                        <para>
                                                OpenNMS is known to build and run on SuSE 8.1.
                                        </para>
                                </formalpara>
                        </listitem>
			<listitem>
				<formalpara>
					<title>MacOS X</title>
					<para>
						OpenNMS is known to build and run on OSX with the developer's 1.4
						Java JDK.
					</para>
				</formalpara>
			</listitem>
		</itemizedlist>
	</sect1>
</chapter>
