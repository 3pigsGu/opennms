<div ng-controller="MinionListCtrl">
	<div class="panel panel-default">
		<div class="panel-heading">
			<h3 class="panel-title">Monitoring Systems</h3>
		</div>
		<!-- The style is here to override a weird Chrome user agent stylesheet issue -->
		<table class="table table-bordered table-condensed" style="font-size:100%">
			<tbody>
				<tr>
					<th>ID</th>
					<th>Label</th>
					<th>Location</th>
					<th>Type</th>
					<th>Status</th>
					<th>Date</th>
					<th>Properties</th>
				</tr>

				<tr ng-repeat="minion in minions">
					<td class="noWrap">{{minion.id}}</td>
					<td class="noWrap">
						<form ng-show="enableEditLabel" ng-submit="update(minion)">
							<input type="text" ng-model="minion.label"/>
						</form>
						<span ng-hide="enableEditLabel" ng-click="editLabel(minion.id)">{{minion.label}}</span>
					</td>
					<td class="noWrap">
						<form ng-show="enableEditLocation" ng-submit="update(minion)">
							<input type="text" ng-model="minion.location"/>
						</form>
						<span ng-hide="enableEditLocation" ng-click="editLocation(minion.id)">{{minion.location}}</span>
					</td>
					<td class="noWrap">{{minion.type}}</td>
					<td class="noWrap">{{minion.status}}</td>
					<td class="noWrap">{{minion.lastUpdated | date:'MMM d, yyyy h:mm:ss a'}}</td>
					<td class="noWrap">
						<span ng-repeat="(key,value) in minion.properties">
						<span class="label label-default">
							{{key}}: {{value}}
						</span>&nbsp;
						</span>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
