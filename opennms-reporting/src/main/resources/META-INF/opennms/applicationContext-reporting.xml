<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean id="availabilityReportScheduler"
		class="org.opennms.report.availability.AvailabilityReportSchedulerService" lazy-init="true">
		<property name="availabilityReportLocatorDao"
			ref="availabilityReportLocatorDao" />
	</bean>

	<bean id="availabilityReportLocator"
		class="org.opennms.report.availability.AvailabilityReportLocatorService" lazy-init="true">
		<property name="availabilityReportLocatorDao"
			ref="availabilityReportLocatorDao" />
	</bean>
	
	<!--  
	<bean id="simpleReportStore"
		class="org.opennms.report.availability.store.SimpleReportStore">
		<property name="baseDir">
			<value>file:${opennms.home}/share/reports/</value>
		</property>
	</bean>
	-->
	
	<bean id="calendarAvailabilityCalculator"
		class="org.opennms.report.availability.AvailabilityCalculator">
		<!-- <property name="reportStore"
			ref="simpleReportStore" />
			 -->
		<property name="monthFormat">
			<value>calendar</value>
		</property>
		<property name="outputResource">
			<value>file:${opennms.home}/share/reports/AvailReport.xml</value>
		</property>
	</bean>
	
	<bean id="classicAvailabilityCalculator"
		class="org.opennms.report.availability.AvailabilityCalculator">
		<!-- <property name="reportStore"
			ref="simpleReportStore" />
			-->
		<property name="monthFormat">
			<value>classic</value>
		</property>
		<property name="outputResource">
			<value>file:${opennms.home}/share/reports/AvailReport.xml</value>
		</property>
	</bean>
	
	<bean id="pdfReportRenderer"
		class="org.opennms.report.availability.render.PDFReportRenderer">
		<property name="inputResource">
			<value>file:${opennms.home}/share/reports/AvailReport.xml</value>
		</property>
		<property name="outputResource">
			<value>file:${opennms.home}/share/reports/PDFAvailReport.pdf</value>
		</property>
		<property name="fopResource">
			<value>file:${opennms.home}/share/reports/PDFAvailReport.fo</value>
		</property>
		<property name="xsltResource" value="file:${opennms.home}/etc/PDFAvailReport.xsl" />
	</bean>
	
	<bean id="svgReportRenderer"
		class="org.opennms.report.availability.render.PDFReportRenderer">
		<property name="inputResource">
			<value>file:${opennms.home}/share/reports/AvailReport.xml</value>
		</property>
		<property name="outputResource">
			<value>file:${opennms.home}/share/reports/SVGAvailReport.pdf</value>
		</property>
		<property name="fopResource">
			<value>file:${opennms.home}/share/reports/SVGAvailReport.fo</value>
		</property>
		<property name="xsltResource" value="file:${opennms.home}/etc/SVGAvailReport.xsl" />
	</bean>
			
	<bean id="htmlReportRenderer"
		class="org.opennms.report.availability.render.HTMLReportRenderer">
		<property name="inputResource">
			<value>file:${opennms.home}/share/reports/AvailReport.xml</value>
		</property>
		<property name="outputResource">
			<value>file:${opennms.home}/share/reports/AvailReport.html</value>
		</property>
		<property name="xsltResource" value="file:${opennms.home}/etc/AvailabilityReports.xsl" />
	</bean>
		
	<!-- 
	<bean id="emailReportGenerator"
		class="org.opennms.report.availiblity.ReportGenerator">
		<property name="availabilityCalculator">
			<ref local="calendarAvailabilityCalculator"/>
		</property>
		<property name="availabilityReportRenderer">
			<ref local="svgReportRenderer"/>
		</property>
		<property name="reportDispatcher">
			<ref local="emailReportDispatcher"/>
		</property>
	</bean>
	-->
		
</beans>